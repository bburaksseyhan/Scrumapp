@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@using scrum_ui.Extension;
@{

  var session = HttpContextAccessor.HttpContext.Session.GetComplexData<User>("logged_user_data");
  
  var email = session != null ?session.Email.Split('@')[0] : "Welcome, Scrum to :)";
}

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="This project is developed by Burak SEYHAN">
  <title>Let's Give Scorred</title>

  <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />

  <!-- Custom styles for this template -->
  <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="/css/blog.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <header class="blog-header py-3">
      <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-4 pt-1">
          <a class="link-secondary" href="#"> @email
          </a>
        </div>
        <div class="col-4 text-center">
          <a class="blog-header-logo text-dark" href="#">Let's Give Scorred</a>
        </div>
        <div class="col-4 d-flex justify-content-end align-items-center">
          @if (session == null)
          {
            <a class="btn btn-sm btn btn-danger" asp-area="" asp-controller="Login" asp-action="Index">SignIn</a>
            <a class="btn btn-sm btn-outline-secondary" asp-area="" asp-controller="Register"
              asp-action="Index">SignUp</a>
          }
          else
          {
            <a class="btn btn-sm btn-outline-secondary" asp-area="" asp-controller="Login" asp-action="Logout">Logout</a>
          }
        </div>
      </div>
    </header>
  </div>

  <main class="container">
    <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark"  style="text-align: center;">
      <img src="/img/banner.jpg" width="600" height="250"/>
    </div>

    <div class="row mb-2">
      <div class="col-md-12">
        @RenderBody()
      </div>
    </div>

  </main><!-- /.container -->

  <footer class="blog-footer">
    <p>Blog template built for <a href="https://getbootstrap.com/">Bootstrap</a></p>
    <p>
      <a href="#">Back to top</a>
    </p>
  </footer>
  <script src="~/lib/jquery/dist/jquery.min.js"></script>
  <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="~/js/site.js" asp-append-version="true"></script>
  @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
